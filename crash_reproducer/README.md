## Crash Reproducer

- This directory contains a reproducer tool to replay crashes discovered by the SSZ fuzzer. It reads a `crash_XXXX.json` file and attempts to decode, bridge, and encode the data in the same way as the fuzzer, revealing whether the same crash occurs.

---

### Building

```sh
go build -o crash_reproducer .
```

---

### Usage

After building, you can run:

```sh
./crash_reproducer -type=<TypeName> -scenario=<crash_file.json>
```

- type=<TypeName>
Must match one of the SSZ object types (e.g. Withdrawal, BeaconBlock, ExecutionPayloadMonolith, etc.).
- scenario=<crash_file.json>
Path to a JSON file generated by the fuzzer (named crash_<timestamp>.json), which includes the input hex and a sequence of decode/encode steps.

#### Example

```sh
./crash_reproducer \
  -type=Withdrawal \
  -scenario=sszfuzzer/consensus_fuzz/fuzzer/fuzz_consensus_specs_withdrawal/crash_1740391447171949021.json
```

---

### Output

- On success (no crash), the tool writes a file named reproduce_<timestamp>.json (or similar) with "OK (no panic)" in the "final_result" field.
- If a mismatch or other error is re-triggered, a panic is raised and the tool may dump additional logs describing which step failed.

